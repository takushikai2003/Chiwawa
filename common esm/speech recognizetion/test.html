<!DOCTYPE html>
<meta charset="utf-8">

<head>
</head>

<body>
    <button id="btn">音声認識</button>
    <div id="text_area"></div>
    <div id="result_area"></div>
    
    <script type="module">
        import SpeechRecognizer from "./SpeechRecognizer.js";
        
        const btn = document.getElementById("btn");

        let recording = false;
        btn.addEventListener("pointerdown", async ()=>{
            if(!recording){
                await SpeechRecognizer.start();
                btn.style.border = "solid 3px red";
                recording = true;
            }
            else{
                const result = await SpeechRecognizer.stop("コンニチハ");
                console.log(result);
                btn.style.border = "solid 1px black";
                recording = false;
            }
        });
    </script>    
</body>
